---
phase: 05-power-user-ux
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/checklists/[id]/page.tsx
  - app/globals.css
autonomous: true

must_haves:
  truths:
    - "User can trigger browser print dialog from checklist page"
    - "Printed checklist shows only essential content (no navigation, no buttons)"
    - "Printed checklist uses minimal black and white styling"
    - "Template grouping is preserved in print view"
    - "Print layout is formatted for standard paper"
  artifacts:
    - path: "app/checklists/[id]/page.tsx"
      provides: "Print button and print-specific className logic"
      min_lines: 400
    - path: "app/globals.css"
      provides: "@media print styles"
      contains: "@media print"
  key_links:
    - from: "Print button onClick"
      to: "window.print()"
      via: "JavaScript print API"
      pattern: "window\\.print\\(\\)"
    - from: "@media print rules"
      to: "checklist content"
      via: "CSS selectors hiding/styling elements"
      pattern: "@media print.*display.*none"
---

<objective>
Add print view capability to checklist detail pages, enabling users to print checklists with clean, paper-friendly formatting that preserves template grouping.

Purpose: Users working offline or in physical environments can print checklists to use on paper, maintaining all the organizational structure from templates.

Output: Print button and CSS @media print rules for checklist page.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@app/checklists/[id]/page.tsx
@app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Add print button to checklist detail page</name>
  <files>app/checklists/[id]/page.tsx</files>
  <action>
Add print functionality to checklist detail page.

**Add print button:**
- Position in header area near "Back to Checklists" link
- Label: "Print" with printer icon (or just text "Print Checklist")
- onClick: calls window.print()
- Style: blue button matching other actions
- Add className="no-print" or "print:hidden" to hide button in print view

**Add print-specific classNames to elements:**
Elements to HIDE in print:
- Navigation links (Back to Checklists)
- Print button itself
- Add item form/input
- Delete item buttons
- Reorder buttons (up/down arrows)
- Edit item inputs (keep text visible, not inputs)
- Collapse/expand toggle buttons

Elements to SHOW/KEEP in print:
- Checklist name (prominent header)
- All items grouped by sourceTemplate
- Template group headers
- Checkboxes (as empty squares for manual checking)
- Item text

**Implementation approach:**
Add Tailwind print utilities to existing elements:
- print:hidden - hides in print view
- print:visible - shows in print view (rarely needed)
- print:text-black - forces black text
- print:border-black - forces black borders

Example:
```tsx
<Link href="/checklists" className="print:hidden">Back to Checklists</Link>
<button onClick={() => window.print()} className="print:hidden">Print Checklist</button>
```
  </action>
  <verify>
npm run build completes without errors
Inspect app/checklists/[id]/page.tsx contains print button with window.print() call
Inspect print:hidden classes added to navigation and interactive elements
  </verify>
  <done>
Checklist detail page has Print button that triggers browser print dialog. Interactive elements (buttons, links, forms) have print:hidden classes.
  </done>
</task>

<task type="auto">
  <name>Add CSS @media print styles</name>
  <files>app/globals.css</files>
  <action>
Add @media print rules to app/globals.css for clean paper formatting.

**Add after existing styles:**
```css
@media print {
  /* Reset to white background for print */
  body {
    background: white !important;
    color: black !important;
  }

  /* Hide all elements with .no-print class or print:hidden utility */
  .no-print {
    display: none !important;
  }

  /* Ensure checklist content is black and white */
  * {
    background: white !important;
    color: black !important;
    border-color: black !important;
  }

  /* Checkbox styling for manual check-off */
  input[type="checkbox"] {
    -webkit-appearance: checkbox !important;
    appearance: checkbox !important;
    border: 1px solid black !important;
    background: white !important;
  }

  /* Remove shadows and unnecessary styling */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Page break controls */
  .template-group {
    page-break-inside: avoid;
  }

  /* Ensure proper spacing for readability */
  h1, h2, h3 {
    margin-top: 0.5em;
    margin-bottom: 0.25em;
  }

  /* Item spacing */
  .checklist-item {
    margin-bottom: 0.5em;
  }
}
```

**Rationale:**
- Force white background and black text for printer ink efficiency
- Remove all color styling to avoid wasted ink
- Preserve template groups to maintain organizational structure (key requirement)
- Avoid page breaks within groups for readability
- Keep checkboxes visible so users can check items manually on paper
  </action>
  <verify>
npm run build completes successfully
Inspect app/globals.css contains @media print block with white background, black text, and element hiding rules
  </verify>
  <done>
globals.css contains @media print rules that force black and white styling, hide interactive elements, and preserve template grouping.
  </done>
</task>

</tasks>

<verification>
Build verification:
- npm run build completes successfully
- No syntax errors in CSS or TypeScript

Code verification:
- Print button exists in checklist detail page
- window.print() called on button click
- print:hidden classes applied to navigation/buttons/forms
- @media print block exists in globals.css
- Print styles force white background and black text
- Template group preservation logic present
</verification>

<success_criteria>
- Print button renders on checklist detail page
- Clicking Print button triggers browser print dialog
- Print preview shows only checklist content (no navigation/buttons)
- Print view uses black and white styling (no colors)
- Template grouping preserved in print layout
- Checkboxes visible for manual checking on paper
- Page formatting suitable for standard 8.5x11 or A4 paper
- No ink wasted on backgrounds or shadows
- Build completes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-power-user-ux/05-02-SUMMARY.md`
</output>
