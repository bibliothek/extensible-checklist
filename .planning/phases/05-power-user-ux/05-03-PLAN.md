---
phase: 05-power-user-ux
plan: 03
type: execute
wave: 2
depends_on:
  - 05-01
  - 05-02
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can toggle to bulk text mode and paste multiple items when creating template"
    - "User can toggle to bulk text mode and edit all items as text when editing template"
    - "Each line in bulk text mode creates one item"
    - "Empty lines are ignored during parsing"
    - "User can print checklist with browser print dialog"
    - "Printed checklist uses minimal black & white styling"
    - "Template grouping preserved in print view"
  artifacts:
    - path: "app/components/TemplateForm.tsx"
      provides: "Working bulk text mode"
      contains: "isBulkMode"
    - path: "app/checklists/[id]/page.tsx"
      provides: "Print button and print classes"
      contains: "window.print"
    - path: "app/globals.css"
      provides: "Print media query styles"
      contains: "@media print"
  key_links:
    - from: "Toggle button"
      to: "isBulkMode state"
      via: "onClick handler"
      pattern: "setIsBulkMode"
    - from: "bulkText textarea"
      to: "items array"
      via: "parsing on mode switch or submit"
      pattern: "split.*filter.*trim"
    - from: "Print button"
      to: "Browser print dialog"
      via: "window.print() call"
      pattern: "window\\.print"
---

<objective>
Verify bulk text mode and print view features work correctly through human testing of complete workflows.

Purpose: Ensure power user features (bulk editing and printing) function as designed and meet UX requirements before phase completion.

Output: Human-verified bulk text editing and print functionality.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-power-user-ux/05-01-SUMMARY.md
@.planning/phases/05-power-user-ux/05-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Bulk text editing mode for templates and print view for checklists.

**Feature 1: Bulk Text Mode**
- Toggle button in TemplateForm (create and edit pages)
- Textarea mode accepting multi-line input
- Text parsing: each line becomes one item, empty lines ignored
- Bidirectional mode switching preserves data

**Feature 2: Print View**
- Print button on checklist detail page
- CSS @media print rules for black & white formatting
- Template grouping preserved
- Interactive elements hidden in print view
  </what-built>

  <how-to-verify>
**Test Bulk Text Mode:**

1. Start dev server if not running:
   ```bash
   npm run dev
   ```

2. Navigate to http://localhost:3000 and log in

3. Test bulk text mode on CREATE:
   - Go to /templates/new
   - Click "Switch to Bulk Text Mode" button
   - Verify textarea appears
   - Paste this test text:
     ```
     Item one
     Item two

     Item three

     ```
   - Verify 3 items (empty lines ignored)
   - Click "Switch to Individual Mode"
   - Verify 3 items display as individual inputs
   - Switch back to bulk mode
   - Verify textarea shows 3 items as text
   - Save template
   - Verify template created with 3 items

4. Test bulk text mode on EDIT:
   - Go to /templates
   - Click Edit on any template
   - Verify items display in individual mode
   - Click "Switch to Bulk Text Mode"
   - Verify all items appear as text in textarea
   - Add new lines of text
   - Switch to individual mode
   - Verify new items added
   - Save changes
   - Verify template updated

5. Test edge cases:
   - Create template with only blank lines → verify validation error
   - Paste 20 lines of text → verify all parsed correctly
   - Switch modes multiple times → verify data preserved

**Test Print View:**

6. Navigate to any checklist detail page (create one if needed):
   - Go to /checklists/new
   - Select templates and create checklist

7. Test print functionality:
   - Click "Print" button on checklist detail page
   - Verify browser print dialog opens
   - In print preview, verify:
     - Navigation links hidden
     - Print button hidden
     - Add item form hidden
     - Delete/reorder buttons hidden
     - Checklist name visible (prominent)
     - All items visible grouped by template
     - Template group headers visible
     - Checkboxes visible (empty squares)
     - Black and white only (no colors)
     - White background (no dark mode)
     - Readable font size
     - Proper spacing between items
     - Page breaks don't split template groups
   - Cancel print dialog (no need to actually print)

8. Test responsive print:
   - Resize browser window
   - Trigger print again
   - Verify layout adjusts appropriately

9. Test in dark mode:
   - Enable dark mode in browser/OS
   - Verify print preview still shows white background with black text
   - Verify no dark mode styling bleeds into print view

**Verification criteria:**
- All bulk text mode workflows work correctly
- Text parsing handles edge cases (empty lines, many items)
- Mode switching preserves data bidirectionally
- Print button triggers browser print dialog
- Print preview shows clean black & white layout
- Template grouping preserved in print view
- All interactive elements hidden in print
- Print view suitable for physical paper use
- No console errors during testing
- No runtime errors during testing
  </how-to-verify>

  <resume-signal>
Type "approved" if all features work correctly, or describe any issues found.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification checkpoint confirms:
- Bulk text mode toggle works on create and edit pages
- Text parsing creates items from lines correctly
- Empty lines are ignored
- Mode switching preserves all items
- Print button opens browser print dialog
- Print preview shows black & white layout
- Template grouping preserved in print
- Interactive elements hidden in print view
- No errors during testing
</verification>

<success_criteria>
- User successfully tested bulk text mode on template create page
- User successfully tested bulk text mode on template edit page
- User verified multi-line paste creates multiple items
- User verified empty lines are ignored
- User verified mode switching works bidirectionally
- User successfully triggered print dialog from checklist page
- User verified print preview shows clean black & white layout
- User verified template grouping preserved in print
- User approved both features as production-ready
- Phase 5 requirements (UX-01 through UX-07) validated
</success_criteria>

<output>
After completion, create `.planning/phases/05-power-user-ux/05-03-SUMMARY.md`
</output>
